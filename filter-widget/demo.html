<script type="text/stache" id="demo-html">
  <h1>Filter Widget Demo</h1>

  <p><button class="btn" type="button" ($click)="toggleAdd"><i class="fa fa-search"></i>Toggle Add Form</button></p>

  <filter-widget {fields}="fields" {^filters}="filters" {{#disableAdd}}disableAdd{{/disableAdd}} />

  <h2>Current filters: </h2>
  {{stringify(filters)}}

</script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/spectre.css/0.1.27/spectre.min.css" >
<script src="../node_modules/steal/steal.js" main="@empty" id="demo-source">
  // import 'bootstrap/dist/css/bootstrap.min.css!';
  // import 'bootstrap/dist/css/bootstrap-theme.min.css!';
  import 'font-awesome/css/font-awesome.min.css';
  import 'filter-widget/';
  import stache from 'can-stache';
  import {parseFieldArray} from 'spectre-canjs/util/field';
  import DefineMap from 'can-define/map/map';

  let render = stache.from('demo-html');
  document.body.appendChild(render(new DefineMap({
    fields: parseFieldArray( ['field1', 'field_2', 'field 3'] ),
    filters: [],
    disableAdd: false,
    stringify(data){
      return JSON.stringify(data.serialize());
    },
    toggleAdd(){
      this.disableAdd = !this.disableAdd;
    }
  })));
</script>
